

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Complete API Reference &mdash; pheres  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Miscellaneous" href="api_misc.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> pheres
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api_intro.html">API Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_exceptions.html">Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_datatypes.html">Datatypes</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_types.html">Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_typing.html">JSON Typing API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_decoder.html">Decoding API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_jsonable.html">Jsonable API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_misc.html">Miscellaneous</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Complete API Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pheres</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Complete API Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/api_full.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="complete-api-reference">
<h1>Complete API Reference<a class="headerlink" href="#complete-api-reference" title="Permalink to this headline">¶</a></h1>
<p>Utility module that expands the builtin module ‘json’</p>
<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">ArrayData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">types</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)">tuple</a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Opaque type storing pheres data for jsonable arrays</p>
<p>Exposed for used with <a class="reference external" href="https://docs.python.org/3/library/functions.html#issubclass" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">issubclass</span></code></a></p>
</dd></dl>

<dl class="py exception">
<dt>
<em class="property">exception </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">CycleError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">cycle</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)">tuple</a><span class="p">[</span>Any<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">msg</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">'{obj} contains the cycle {cycle}'</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference internal" href="api_exceptions.html#pheres._exceptions.PheresError" title="pheres._exceptions.PheresError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._exceptions.PheresError</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/graphlib.html#graphlib.CycleError" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">graphlib.CycleError</span></code></a></p>
<p>Raised when a value has cycles in it</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>Any</em>) – object containing the cycle</p></li>
<li><p><strong>cycle</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a>) – detected cycle</p></li>
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – explanation of the error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt>
<em class="property">exception </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">DecodeError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference internal" href="api_exceptions.html#pheres._exceptions.PheresError" title="pheres._exceptions.PheresError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._exceptions.PheresError</span></code></a></p>
<p>Raised on decoding problem in Pheres when no better exception exists</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – explanation of the error</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">DelayedData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span><span class="p">:</span> <span class="n">Callable<span class="p">[</span><span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.9)">type</a><span class="p">]</span><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.9)">type</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">kind</span><span class="p">:</span> <span class="n">JsonableEnum</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Opaque type storing pheres data for jsonable that have been delayed</p>
<p>Exposed for used with <a class="reference external" href="https://docs.python.org/3/library/functions.html#issubclass" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">issubclass</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>kind</strong> (<em>pheres._datatypes.JsonableEnum</em>) – What type of jsonable the class will be once decorated
(This has not happened yet !)</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">DictData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type</span><span class="p">:</span> <span class="n">TypeHint</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Opaque type storing pheres data for jsonable dicts</p>
<p>Exposed for used with <a class="reference external" href="https://docs.python.org/3/library/functions.html#issubclass" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">issubclass</span></code></a></p>
</dd></dl>

<dl class="py exception">
<dt>
<em class="property">exception </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JSONDecodeError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span></em>, <em class="sig-param"><span class="n">doc</span></em>, <em class="sig-param"><span class="n">pos</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a></p>
<p>Subclass of ValueError with the following additional properties:</p>
<p>msg: The unformatted error message
doc: The JSON document being parsed
pos: The start index of doc where parsing failed
lineno: The line corresponding to pos
colno: The column corresponding to pos</p>
</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JSONDecoder</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">object_hook</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parse_float</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parse_int</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parse_constant</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">strict</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">object_pairs_hook</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Simple JSON &lt;<a class="reference external" href="http://json.org">http://json.org</a>&gt; decoder</p>
<p>Performs the following translations in decoding by default:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>JSON</p></th>
<th class="head"><p>Python</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>object</p></td>
<td><p>dict</p></td>
</tr>
<tr class="row-odd"><td><p>array</p></td>
<td><p>list</p></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>str</p></td>
</tr>
<tr class="row-odd"><td><p>number (int)</p></td>
<td><p>int</p></td>
</tr>
<tr class="row-even"><td><p>number (real)</p></td>
<td><p>float</p></td>
</tr>
<tr class="row-odd"><td><p>true</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p>false</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td><p>null</p></td>
<td><p>None</p></td>
</tr>
</tbody>
</table>
<p>It also understands <code class="docutils literal notranslate"><span class="pre">NaN</span></code>, <code class="docutils literal notranslate"><span class="pre">Infinity</span></code>, and <code class="docutils literal notranslate"><span class="pre">-Infinity</span></code> as
their corresponding <code class="docutils literal notranslate"><span class="pre">float</span></code> values, which is outside the JSON spec.</p>
<dl class="py method">
<dt>
<code class="sig-name descname">decode</code><span class="sig-paren">(</span><em class="sig-param">s</em>, <em class="sig-param">_w=&lt;built-in method match of re.Pattern object&gt;</em><span class="sig-paren">)</span></dt>
<dd><p>Return the Python representation of <code class="docutils literal notranslate"><span class="pre">s</span></code> (a <code class="docutils literal notranslate"><span class="pre">str</span></code> instance
containing a JSON document).</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">raw_decode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">idx</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span></dt>
<dd><p>Decode a JSON document from <code class="docutils literal notranslate"><span class="pre">s</span></code> (a <code class="docutils literal notranslate"><span class="pre">str</span></code> beginning with
a JSON document) and return a 2-tuple of the Python
representation and the index in <code class="docutils literal notranslate"><span class="pre">s</span></code> where the document ended.</p>
<p>This can be used to decode a JSON document from a string that may
have extraneous data at the end.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JSONEncoder</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">skipkeys</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ensure_ascii</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check_circular</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">allow_nan</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">sort_keys</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">indent</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">separators</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Extensible JSON &lt;<a class="reference external" href="http://json.org">http://json.org</a>&gt; encoder for Python data structures.</p>
<p>Supports the following objects and types by default:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 56%" />
<col style="width: 44%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Python</p></th>
<th class="head"><p>JSON</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>dict</p></td>
<td><p>object</p></td>
</tr>
<tr class="row-odd"><td><p>list, tuple</p></td>
<td><p>array</p></td>
</tr>
<tr class="row-even"><td><p>str</p></td>
<td><p>string</p></td>
</tr>
<tr class="row-odd"><td><p>int, float</p></td>
<td><p>number</p></td>
</tr>
<tr class="row-even"><td><p>True</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-odd"><td><p>False</p></td>
<td><p>false</p></td>
</tr>
<tr class="row-even"><td><p>None</p></td>
<td><p>null</p></td>
</tr>
</tbody>
</table>
<p>To extend this to recognize other objects, subclass and implement a
<code class="docutils literal notranslate"><span class="pre">.default()</span></code> method with another method that returns a serializable
object for <code class="docutils literal notranslate"><span class="pre">o</span></code> if possible, otherwise it should call the superclass
implementation (to raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<dl class="py method">
<dt>
<code class="sig-name descname">default</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em><span class="sig-paren">)</span></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">encode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em><span class="sig-paren">)</span></dt>
<dd><p>Return a JSON string representation of a Python data structure.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">json.encoder</span> <span class="kn">import</span> <span class="n">JSONEncoder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">JSONEncoder</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">({</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">]})</span>
<span class="go">&#39;{&quot;foo&quot;: [&quot;bar&quot;, &quot;baz&quot;]}&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">iterencode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em>, <em class="sig-param"><span class="n">_one_shot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span></dt>
<dd><p>Encode the given object and yield each string
representation as available.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">JSONEncoder</span><span class="p">()</span><span class="o">.</span><span class="n">iterencode</span><span class="p">(</span><span class="n">bigobject</span><span class="p">):</span>
    <span class="n">mysocket</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt>
<em class="property">exception </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JSONTypeError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type</span><span class="p">:</span> <span class="n">TypeHint</span></em>, <em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">msg</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">&quot;{value} doesn't have type {type}&quot;</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference internal" href="api_exceptions.html#pheres._exceptions.PheresError" title="pheres._exceptions.PheresError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._exceptions.PheresError</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeError</span></code></a></p>
<p>Raised when a value doesn’t have the excepted type</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<em>TypeHint</em>) – expected type</p></li>
<li><p><strong>value</strong> (<em>Any</em>) – invalid value</p></li>
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – explanation of the error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt>
<em class="property">exception </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JSONValueError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">msg</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">'invalid JSON {value}'</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference internal" href="api_exceptions.html#pheres._exceptions.PheresError" title="pheres._exceptions.PheresError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._exceptions.PheresError</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a></p>
<p>Raised when an invalid json value is encountered</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>Any</em>) – invalid value</p></li>
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – explanation of the error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JsonAttr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">module</span><span class="p">:</span> <span class="n">ModuleType</span></em>, <em class="sig-param"><span class="n">cls_name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">py_name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">type</span><span class="p">:</span> <span class="n">TypeHint</span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="default_value">MISSING</span></em>, <em class="sig-param"><span class="n">is_json_only</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span> <span class="o">=</span> <span class="default_value">MISSING</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">cls</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Stores information for a json attribute</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – name of this attribute in JSON</p></li>
<li><p><strong>py_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – name of this attribute in python</p></li>
<li><p><strong>type</strong> (<em>TypeHint</em>) – type of this attribute</p></li>
<li><p><strong>is_json_only</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – if this attribute should be only
present in JSON</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt>
<em class="property">property </em><code class="sig-name descname">is_required</code></dt>
<dd><p>Returns True if this attribute is mandatory in JSON</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">get_default</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Returns the default value of this attribute</p>
<p>The returned value is a copy and is safe to use and modify</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt>
<em class="property">exception </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JsonAttrError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">attr</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">detail</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">''</span></em>, <em class="sig-param"><span class="n">msg</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">&quot;Error in '{cls}' at attribute '{attr}'{detail}&quot;</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference internal" href="api_exceptions.html#pheres._exceptions.JsonableError" title="pheres._exceptions.JsonableError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._exceptions.JsonableError</span></code></a></p>
<p>Raised on problems with <a class="reference internal" href="api_jsonable.html#pheres._jsonable.jsonable" title="pheres._jsonable.jsonable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">&#64;jsonable</span></code></a> due to <a class="reference internal" href="api_datatypes.html#pheres._datatypes.JsonAttr" title="pheres._datatypes.JsonAttr"><code class="xref any py py-class docutils literal notranslate"><span class="pre">JsonAttr</span></code></a>
when no better sub-exception exists</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cls</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – name of the class that raised the error</p></li>
<li><p><strong>attr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – name of the attribute that raised the error</p></li>
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – explanation of the error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt>
<em class="property">exception </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JsonAttrTypeError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type</span><span class="p">:</span> <span class="n">TypeHint</span></em>, <em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">cls</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">attr</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">detail</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">''</span></em>, <em class="sig-param"><span class="n">msg</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">&quot;{value} doesn't have type {type} in class '{cls}' at attribute '{attr}'&quot;</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference internal" href="api_exceptions.html#pheres._exceptions.JSONTypeError" title="pheres._exceptions.JSONTypeError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._exceptions.JSONTypeError</span></code></a>, <a class="reference internal" href="api_exceptions.html#pheres._exceptions.JsonAttrError" title="pheres._exceptions.JsonAttrError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._exceptions.JsonAttrError</span></code></a></p>
<p>Raised when the default value of a json attribute doesn’t have the correct type</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> – expected type</p></li>
<li><p><strong>value</strong> – invalid value</p></li>
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – explanation of the error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt>
<em class="property">exception </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JsonAttrValueError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">cls</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">attr</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">detail</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">''</span></em>, <em class="sig-param"><span class="n">msg</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">&quot;Invalid JSON value '{value}' in class '{cls}' at attribute '{attr}'&quot;</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference internal" href="api_exceptions.html#pheres._exceptions.JSONValueError" title="pheres._exceptions.JSONValueError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._exceptions.JSONValueError</span></code></a>, <a class="reference internal" href="api_exceptions.html#pheres._exceptions.JsonAttrError" title="pheres._exceptions.JsonAttrError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._exceptions.JsonAttrError</span></code></a></p>
<p>Raised when the default value of a json attribute is not a valid json</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cls</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – name of the class that raised the error</p></li>
<li><p><strong>attr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – name of the attribute that raised the error</p></li>
<li><p><strong>value</strong> (<em>Any</em>) – invalid value</p></li>
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – explanation of the error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JsonMark</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">json_only</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span> <span class="o">=</span> <span class="default_value">MISSING</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Annotation for jsonized arguments that provides more control
on the jsonized attribute behavior. All arguments are optional.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – Set the name of the key in JSON for that attribute.
Defaults to the name of the attribute in python</p></li>
<li><p><strong>json_only</strong> – Make the attribute only present in JSON. The attribute
must have a default value or be a <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">typing.Literal</span></code></a> of a single value. The
attribute is removed from the class’ annotations at runtime
Defaults to <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> for Literals of a single value; <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a> for all other types</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JsonableArray</code></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._utils.Virtual</span></code></p>
<p>Virtual class to represent a jsonable array in type hints.</p>
<p>While this <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a> does implements <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABCMeta.__subclasshook__" title="(in Python v3.9)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__subclasshook__()</span></code></a>,
it should not be used with <a class="reference external" href="https://docs.python.org/3/library/functions.html#issubclass" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">issubclass</span></code></a>. Use the <a class="reference internal" href="api_typing.html#pheres._typing.is_jsonable_array" title="pheres._typing.is_jsonable_array"><code class="xref any py py-func docutils literal notranslate"><span class="pre">is_jsonable_array</span></code></a> function
instead</p>
</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JsonableDict</code></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._utils.Virtual</span></code></p>
<p>Virtual class to represent a jsonable dict in type hints.</p>
<p>While this <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a> does implements <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABCMeta.__subclasshook__" title="(in Python v3.9)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__subclasshook__()</span></code></a>,
it should not be used with <a class="reference external" href="https://docs.python.org/3/library/functions.html#issubclass" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">issubclass</span></code></a>. Use the <a class="reference internal" href="api_typing.html#pheres._typing.is_jsonable_dict" title="pheres._typing.is_jsonable_dict"><code class="xref any py py-func docutils literal notranslate"><span class="pre">is_jsonable_dict</span></code></a> function
instead</p>
</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JsonableDummy</code></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Dummy class providing dummy members for all members
added by <a class="reference internal" href="api_jsonable.html#pheres._jsonable.jsonable" title="pheres._jsonable.jsonable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">&#64;jsonable</span></code></a>. Allows type checkers and linters to detect
said attributes</p>
<dl class="py attribute">
<dt>
<code class="sig-name descname">Decoder</code></dt>
<dd><p>alias of <a class="reference internal" href="api_datatypes.html#pheres._datatypes.UsableDecoder" title="pheres._datatypes.UsableDecoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._datatypes.UsableDecoder</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">from_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; AnyClass</dt>
<dd><p>Converts a JSON file, string or object to an instance of that class</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">to_json</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; JSONType</dt>
<dd><p>Converts an instance of that class to a JSON object</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt>
<em class="property">exception </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JsonableError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference internal" href="api_exceptions.html#pheres._exceptions.PheresError" title="pheres._exceptions.PheresError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._exceptions.PheresError</span></code></a></p>
<p>Raised on problems with <a class="reference internal" href="api_jsonable.html#pheres._jsonable.jsonable" title="pheres._jsonable.jsonable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">&#64;jsonable</span></code></a> when no better sub-exception
exists</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – explanation of the error</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JsonableObject</code></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._utils.Virtual</span></code></p>
<p>Virtual class to represent a jsonable object in type hints.</p>
<p>While this <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a> does implements <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABCMeta.__subclasshook__" title="(in Python v3.9)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__subclasshook__()</span></code></a>,
it should not be used with <a class="reference external" href="https://docs.python.org/3/library/functions.html#issubclass" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">issubclass</span></code></a>. Use the <a class="reference internal" href="api_typing.html#pheres._typing.is_jsonable_object" title="pheres._typing.is_jsonable_object"><code class="xref any py py-func docutils literal notranslate"><span class="pre">is_jsonable_object</span></code></a> function
instead</p>
</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">JsonableValue</code></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._utils.Virtual</span></code></p>
<p>Virtual class to represent a jsonable value in type hints.</p>
<p>While this <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a> does implements <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABCMeta.__subclasshook__" title="(in Python v3.9)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__subclasshook__()</span></code></a>,
it should not be used with <a class="reference external" href="https://docs.python.org/3/library/functions.html#issubclass" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">issubclass</span></code></a>. Use the <a class="reference internal" href="api_typing.html#pheres._typing.is_jsonable_value" title="pheres._typing.is_jsonable_value"><code class="xref any py py-func docutils literal notranslate"><span class="pre">is_jsonable_value</span></code></a> function
instead</p>
</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">ObjectData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attrs</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a><span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><span class="p">, </span>JsonAttr<span class="p">]</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Opaque type storing pheres data for jsonable objects</p>
<p>Exposed for used with <a class="reference external" href="https://docs.python.org/3/library/functions.html#issubclass" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">issubclass</span></code></a></p>
</dd></dl>

<dl class="py exception">
<dt>
<em class="property">exception </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">PheresError</code></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Base exception in pheres for all other exceptions</p>
</dd></dl>

<dl class="py exception">
<dt>
<em class="property">exception </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">PheresInternalError</code></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#BaseException" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseException</span></code></a></p>
<p>Raised when pheres encounters an internal error</p>
<p>If you see this exception, please make a bug report</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>msg</strong> – explanation of the error</p>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt>
<em class="property">exception </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">TypeHintError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type</span><span class="p">:</span> <span class="n">TypeHint</span></em>, <em class="sig-param"><span class="n">msg</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">'{type} is not a valid JSON type hint'</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference internal" href="api_exceptions.html#pheres._exceptions.PheresError" title="pheres._exceptions.PheresError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._exceptions.PheresError</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeError</span></code></a></p>
<p>Raised for invalid JSON type hints</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<em>TypeHint</em>) – invalid type hint</p></li>
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – explanation of the error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt>
<em class="property">exception </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">TypedJSONDecodeError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span></em>, <em class="sig-param"><span class="n">doc</span></em>, <em class="sig-param"><span class="n">pos</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">json.decoder.JSONDecodeError</span></code>, <a class="reference internal" href="api_exceptions.html#pheres._exceptions.DecodeError" title="pheres._exceptions.DecodeError"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._exceptions.DecodeError</span></code></a></p>
<p>Raised when the decoded type is not the expected one</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>doc</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>JSONType</em><em>]</em>) – JSON document that contains the error</p></li>
<li><p><strong>pos</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>..</em><em>]</em><em>]</em>) – position of the error in ‘doc’
can be either an string index, or a list of keys in the json</p></li>
<li><p><strong>lineno</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>]</em>) – line number of pos</p></li>
<li><p><strong>colno</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>]</em>) – column number of pos</p></li>
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – explanation of the error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">TypedJSONDecoder</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a>, <a class="reference internal" href="api_datatypes.html#pheres._datatypes.UsableDecoder" title="pheres._datatypes.UsableDecoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">pheres._datatypes.UsableDecoder</span></code></a></p>
<p><a class="reference external" href="https://docs.python.org/3/library/json.html#json.JSONDecoder" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">json.JSONDecoder</span></code></a> subclass for typed JSON decoding</p>
<p>The type to decode must be provided by indexing this class with the
type as key (like in the ‘typing’ module). The type hint must be
valid in a JSON context.</p>
<p>jsonables are supported, as this is the whole point
of that class</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># type check that all values are str or int</span>
<span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">JSONableDecoder</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]])</span>
<span class="c1"># The class exposed a `load` method</span>
<span class="n">JSONableDecoder</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span></dt>
<dd><p>Thin wrapper around <a class="reference external" href="https://docs.python.org/3/library/json.html#json.load" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">json.load</span></code></a> that use this class as the <code class="docutils literal notranslate"><span class="pre">cls</span></code> argument</p>
<p>The TypedJSONDecoder must be parametrized</p>
</dd></dl>

<dl class="py method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">loads</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span></dt>
<dd><p>Thin wrapper around <a class="reference external" href="https://docs.python.org/3/library/json.html#json.loads" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">json.loads</span></code></a> that use this class as the <code class="docutils literal notranslate"><span class="pre">cls</span></code> argument</p>
<p>The TypedJSONDecoder must be parametrized</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">UsableDecoder</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">object_hook</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parse_float</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parse_int</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parse_constant</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">strict</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">object_pairs_hook</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">json.decoder.JSONDecoder</span></code></p>
<p><a class="reference external" href="https://docs.python.org/3/library/json.html#json.JSONDecoder" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">json.JSONDecoder</span></code></a> subclass with wrapper methods <code class="docutils literal notranslate"><span class="pre">load()</span></code> and
<code class="docutils literal notranslate"><span class="pre">loads()</span></code> using itself for the decoder class</p>
<dl class="py method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span></dt>
<dd><p>Thin wrapper around <a class="reference external" href="https://docs.python.org/3/library/json.html#json.load" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">json.load</span></code></a> that use this class as the default <code class="docutils literal notranslate"><span class="pre">cls</span></code> argument</p>
</dd></dl>

<dl class="py method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">loads</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span></dt>
<dd><p>Thin wrapper around <a class="reference external" href="https://docs.python.org/3/library/json.html#json.loads" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">json.loads</span></code></a> that use this class as the default <code class="docutils literal notranslate"><span class="pre">cls</span></code> argument</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">ValueData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type</span><span class="p">:</span> <span class="n">TypeHint</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Opaque type storing pheres data for jsonable values</p>
<p>Exposed for used with <a class="reference external" href="https://docs.python.org/3/library/functions.html#issubclass" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">issubclass</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">deserialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">JSONObject</span></em>, <em class="sig-param"><span class="n">type_hint</span><span class="p">:</span> <span class="n">TypeHint</span></em><span class="sig-paren">)</span> &#x2192; JSONObject</dt>
<dd><p>Deserializes a python object representing a JSON to a Type Hint</p>
<p>This is the equivalent of TypedJSONDecoder for JSON object that were
already loaded with json.loads()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – the object to deserialize</p></li>
<li><p><strong>type_hint</strong> – the type to deserialize to, i.e. to type-check against</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="api_typing.html#pheres._typing.JSONObject" title="pheres._typing.JSONObject"><code class="xref any py py-data docutils literal notranslate"><span class="pre">JSONObject</span></code></a>. It might not be equal to the original object, because
JSONable serialization are converted to a proper class instance</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="api_exceptions.html#pheres._exceptions.TypedJSONDecodeError" title="pheres._exceptions.TypedJSONDecodeError"><strong>TypedJSONDecodeError</strong></a> – <code class="docutils literal notranslate"><span class="pre">obj</span></code> cannot be deserialized to type_hint</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">fp</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">skipkeys</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ensure_ascii</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check_circular</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">allow_nan</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cls</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">indent</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">separators</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sort_keys</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span></dt>
<dd><p>Serialize <code class="docutils literal notranslate"><span class="pre">obj</span></code> as a JSON formatted stream to <code class="docutils literal notranslate"><span class="pre">fp</span></code> (a
<code class="docutils literal notranslate"><span class="pre">.write()</span></code>-supporting file-like object).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">skipkeys</span></code> is true then <code class="docutils literal notranslate"><span class="pre">dict</span></code> keys that are not basic types
(<code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>) will be skipped
instead of raising a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">ensure_ascii</span></code> is false, then the strings written to <code class="docutils literal notranslate"><span class="pre">fp</span></code> can
contain non-ASCII characters if they appear in strings contained in
<code class="docutils literal notranslate"><span class="pre">obj</span></code>. Otherwise, all such characters are escaped in JSON strings.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">check_circular</span></code> is false, then the circular reference check
for container types will be skipped and a circular reference will
result in an <code class="docutils literal notranslate"><span class="pre">OverflowError</span></code> (or worse).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">allow_nan</span></code> is false, then it will be a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> to
serialize out of range <code class="docutils literal notranslate"><span class="pre">float</span></code> values (<code class="docutils literal notranslate"><span class="pre">nan</span></code>, <code class="docutils literal notranslate"><span class="pre">inf</span></code>, <code class="docutils literal notranslate"><span class="pre">-inf</span></code>)
in strict compliance of the JSON specification, instead of using the
JavaScript equivalents (<code class="docutils literal notranslate"><span class="pre">NaN</span></code>, <code class="docutils literal notranslate"><span class="pre">Infinity</span></code>, <code class="docutils literal notranslate"><span class="pre">-Infinity</span></code>).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">indent</span></code> is a non-negative integer, then JSON array elements and
object members will be pretty-printed with that indent level. An indent
level of 0 will only insert newlines. <code class="docutils literal notranslate"><span class="pre">None</span></code> is the most compact
representation.</p>
<p>If specified, <code class="docutils literal notranslate"><span class="pre">separators</span></code> should be an <code class="docutils literal notranslate"><span class="pre">(item_separator,</span> <span class="pre">key_separator)</span></code>
tuple.  The default is <code class="docutils literal notranslate"><span class="pre">(',</span> <span class="pre">',</span> <span class="pre">':</span> <span class="pre">')</span></code> if <em>indent</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code> and
<code class="docutils literal notranslate"><span class="pre">(',',</span> <span class="pre">':</span> <span class="pre">')</span></code> otherwise.  To get the most compact JSON representation,
you should specify <code class="docutils literal notranslate"><span class="pre">(',',</span> <span class="pre">':')</span></code> to eliminate whitespace.</p>
<p><code class="docutils literal notranslate"><span class="pre">default(obj)</span></code> is a function that should return a serializable version
of obj or raise TypeError. The default simply raises TypeError.</p>
<p>If <em>sort_keys</em> is true (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>), then the output of
dictionaries will be sorted by key.</p>
<p>To use a custom <code class="docutils literal notranslate"><span class="pre">JSONEncoder</span></code> subclass (e.g. one that overrides the
<code class="docutils literal notranslate"><span class="pre">.default()</span></code> method to serialize additional types), specify it with
the <code class="docutils literal notranslate"><span class="pre">cls</span></code> kwarg; otherwise <code class="docutils literal notranslate"><span class="pre">JSONEncoder</span></code> is used.</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">dumps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">skipkeys</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ensure_ascii</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check_circular</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">allow_nan</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cls</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">indent</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">separators</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sort_keys</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span></dt>
<dd><p>Serialize <code class="docutils literal notranslate"><span class="pre">obj</span></code> to a JSON formatted <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">skipkeys</span></code> is true then <code class="docutils literal notranslate"><span class="pre">dict</span></code> keys that are not basic types
(<code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>) will be skipped
instead of raising a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">ensure_ascii</span></code> is false, then the return value can contain non-ASCII
characters if they appear in strings contained in <code class="docutils literal notranslate"><span class="pre">obj</span></code>. Otherwise, all
such characters are escaped in JSON strings.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">check_circular</span></code> is false, then the circular reference check
for container types will be skipped and a circular reference will
result in an <code class="docutils literal notranslate"><span class="pre">OverflowError</span></code> (or worse).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">allow_nan</span></code> is false, then it will be a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> to
serialize out of range <code class="docutils literal notranslate"><span class="pre">float</span></code> values (<code class="docutils literal notranslate"><span class="pre">nan</span></code>, <code class="docutils literal notranslate"><span class="pre">inf</span></code>, <code class="docutils literal notranslate"><span class="pre">-inf</span></code>) in
strict compliance of the JSON specification, instead of using the
JavaScript equivalents (<code class="docutils literal notranslate"><span class="pre">NaN</span></code>, <code class="docutils literal notranslate"><span class="pre">Infinity</span></code>, <code class="docutils literal notranslate"><span class="pre">-Infinity</span></code>).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">indent</span></code> is a non-negative integer, then JSON array elements and
object members will be pretty-printed with that indent level. An indent
level of 0 will only insert newlines. <code class="docutils literal notranslate"><span class="pre">None</span></code> is the most compact
representation.</p>
<p>If specified, <code class="docutils literal notranslate"><span class="pre">separators</span></code> should be an <code class="docutils literal notranslate"><span class="pre">(item_separator,</span> <span class="pre">key_separator)</span></code>
tuple.  The default is <code class="docutils literal notranslate"><span class="pre">(',</span> <span class="pre">',</span> <span class="pre">':</span> <span class="pre">')</span></code> if <em>indent</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code> and
<code class="docutils literal notranslate"><span class="pre">(',',</span> <span class="pre">':</span> <span class="pre">')</span></code> otherwise.  To get the most compact JSON representation,
you should specify <code class="docutils literal notranslate"><span class="pre">(',',</span> <span class="pre">':')</span></code> to eliminate whitespace.</p>
<p><code class="docutils literal notranslate"><span class="pre">default(obj)</span></code> is a function that should return a serializable version
of obj or raise TypeError. The default simply raises TypeError.</p>
<p>If <em>sort_keys</em> is true (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>), then the output of
dictionaries will be sorted by key.</p>
<p>To use a custom <code class="docutils literal notranslate"><span class="pre">JSONEncoder</span></code> subclass (e.g. one that overrides the
<code class="docutils literal notranslate"><span class="pre">.default()</span></code> method to serialize additional types), specify it with
the <code class="docutils literal notranslate"><span class="pre">cls</span></code> kwarg; otherwise <code class="docutils literal notranslate"><span class="pre">JSONEncoder</span></code> is used.</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">find_collision</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ltp</span><span class="p">:</span> <span class="n">TypeHint</span></em>, <em class="sig-param"><span class="n">rtp</span><span class="p">:</span> <span class="n">TypeHint</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Finds a JSON common for the two type hints, or return MISSING</p>
<p>The type hints must be in normalized form</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ltp</strong> – left type hint</p></li>
<li><p><strong>rtp</strong> – right type hint</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>value, such that <code class="docutils literal notranslate"><span class="pre">typecheck(value,</span> <span class="pre">ltp)</span> <span class="pre">and</span> <span class="pre">typecheck(value,</span> <span class="pre">rtp)</span></code>
or <a class="reference internal" href="api_datatypes.html#pheres._datatypes.MISSING" title="pheres._datatypes.MISSING"><code class="xref any py py-data docutils literal notranslate"><span class="pre">MISSING</span></code></a> if no such value exists</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_array</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Test if the JSON object is a JSON Array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> – object to test the type of</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a json array, <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jarray_class</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">cls</span></code> if a jsonable array class</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jarray_instance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a jsonable array instance</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jdict_class</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">cls</span></code> is a jsonable dict class</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jdict_instance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a jsonable dict instance</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jobject_class</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">cls</span></code> is a jsonable object class</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jobject_instance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a jsonable object instance</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Check if a python object is valid JSON</p>
<p>Only tuples and lists are accepted for JSON arrays.
Dictionary <em>must</em> have string as keys</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> – object to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a valid json, <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a> otherwise</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="api_exceptions.html#pheres._exceptions.CycleError" title="pheres._exceptions.CycleError"><strong>CycleError</strong></a> – the value has circular references</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_json_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type_hint</span><span class="p">:</span> <span class="n">TypeHint</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Check that the type_hint is valid for JSON</p>
<p>Supports JSONable subclasses. Implemented by calling
normalize_json_type() and catching TypeHintError</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>type_hint</strong> – type hint to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if the type hint is valid for JSON, false otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jsonable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a jsonable value or an instance of a jsonable
value</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jsonable_array</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a jsonable array</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jsonable_class</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">cls</span></code> is a jsonable class</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jsonable_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a jsonable dict</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jsonable_instance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a jsonable instance</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jsonable_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a jsonable object</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jsonable_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a jsonable value</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jvalue_class</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">cls</span></code> is a jsonable value class</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_jvalue_instance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> a jsonable value instance</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_number</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Test if the JSON object is a JSON number</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> – object to test the type of</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a json number, <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Test if the JSON object is a JSON Object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> – object to test the type of</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a json Object, <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">is_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Test if the JSON object is a JSON value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> – object to test the type of</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a json value, <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">jsonable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls_arg</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">/</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class decorator to make a class jsonable</p>
<p id="jsonable-class">This decorator adds members to the decorated class to serialize or
deserialize instance from JSON format. Class decorated this way are
called <code class="docutils literal notranslate"><span class="pre">jsonable</span></code> classess. The members added by this decorator
are described in <a class="reference internal" href="api_jsonable.html#pheres._jsonable.JsonableDummy" title="pheres._jsonable.JsonableDummy"><code class="xref any py py-class docutils literal notranslate"><span class="pre">JsonableDummy</span></code></a>. Some may not be added by certain
usage of this decorator, see below.</p>
<p>Jsonable classes are <strong>typed</strong>. This means the values found in JSON
must have the correct types when deserializing. Types are specified
in python code by using PEP 526 type annotations. No typecheck occurs
on serialization, as python’s type annotations are not binding.
<a class="reference internal" href="../index.html#pheres"><span class="std std-ref">Pheres</span></a> trusts that the code follows the annotations it exposes, but
does not enforce it. Ill-implemented code may well crash when
deserializing instances that did not abide to their annotations.</p>
<p><code class="docutils literal notranslate"><span class="pre">&#64;jsonable</span></code> can be parametrized by type-hints, much like types from
the <a class="reference external" href="https://docs.python.org/3/library/typing.html#module-typing" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">typing</span></code></a> module (e.g. <code class="docutils literal notranslate"><span class="pre">&#64;jsonable[int]</span></code>). This will produce
various types of jsonable classes. Refer to the <em>Usage</em> section below
for details.</p>
<p>There are four types of <a class="reference internal" href="#jsonable-class"><span class="std std-ref">jsonable class</span></a>es:
<a class="reference internal" href="#jsonable-value"><span class="std std-ref">jsonable value</span></a>, <a class="reference internal" href="#jsonable-array"><span class="std std-ref">jsonable array</span></a>,
<a class="reference internal" href="#jsonable-dict"><span class="std std-ref">jsonable dict</span></a> and <a class="reference internal" href="#jsonable-object"><span class="std std-ref">jsonable object</span></a>.
These jsonable class have different JSON representation and are
ocumented below.</p>
<p>This class decorator is fully compatible with the <a class="reference external" href="https://docs.python.org/3/library/dataclasses.html#module-dataclasses" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">dataclasses</span></code></a>
module and the <a class="reference external" href="https://attrs.org/en/stable/api.html#attr.s" title="(in attrs v20.3)"><code class="xref any docutils literal notranslate"><span class="pre">attr.s</span></code></a> decorator, though it must be used as the
inner-most decorator (that is, it must be executed first on the class).
It will raise an error if this is not the case.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>auto_attrs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – For jsonable object only. If <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a>, all
annotated attributes are used. If <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a>, only <em>marked</em>
attributes are used. See <em>jsonable objects</em> below. Attributes
lacking a PEP 526 annotation are always ignored.</p></li>
<li><p><strong>after</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em><em>]</em>) – <p>Modify the decorated class
only after the listed member become available in the <strong>class’
module</strong>. This allows for circular definitions. When the class
is modified, the class object is retrieved again from the
module it was defined in. This makes <code class="docutils literal notranslate"><span class="pre">after</span></code> compatibles
with decorators that replace the class object with another one,
such as <a class="reference external" href="https://attrs.org/en/stable/api.html#attr.s" title="(in attrs v20.3)"><code class="xref any docutils literal notranslate"><span class="pre">attr.s</span></code></a> in certain circumstances.</p>
<p>Checks for dependencies are performed after each use of the
<code class="docutils literal notranslate"><span class="pre">&#64;jsonable</span></code> decorator. If your class is the last decorated
one in the file, call <a class="reference internal" href="api_jsonable.html#pheres._jsonable.jsonable.decorate_delayed" title="pheres._jsonable.jsonable.decorate_delayed"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">jsonable.decorate_delayed</span></code></a> to modify
it before usage.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.9)"><strong>TypeError</strong></a> – an argument has a wrong type</p></li>
<li><p><a class="reference internal" href="api_exceptions.html#pheres._exceptions.JsonableError" title="pheres._exceptions.JsonableError"><strong>JsonableError</strong></a> – the decorator is not the innermost with respect to
    <a class="reference external" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.dataclass" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">dataclasses.dataclass</span></code></a> or <a class="reference external" href="https://attrs.org/en/stable/api.html#attr.s" title="(in attrs v20.3)"><code class="xref any docutils literal notranslate"><span class="pre">attr.s</span></code></a></p></li>
</ul>
</dd>
</dl>
<dl id="jsonable-value">
<dt>Jsonable values:</dt><dd><p>Jsonable values are represented by a single JSON value (null, a
number, a string). To make a jsonable value by decorating a class
with <a class="reference internal" href="api_jsonable.html#pheres._jsonable.jsonable" title="pheres._jsonable.jsonable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">&#64;jsonable</span></code></a>, the class must:</p>
<ul class="simple">
<li><p>have an <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method accepting the call <code class="docutils literal notranslate"><span class="pre">Class(value)</span></code>,
where value is the JSON value for an instance of the class
(this is used for deserialization)</p></li>
<li><p>implement the <code class="docutils literal notranslate"><span class="pre">to_json(self)</span></code> method, that returns the value
to represents the instance with in JSON (e.g. <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">None</span></code></a>, an <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">int</span></code></a>
or a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">str</span></code></a>). This is because <a class="reference internal" href="../index.html#pheres"><span class="std std-ref">Pheres</span></a> cannot know what the class
does with the value, like it does with jsonable objects.</p></li>
</ul>
<p>See the <em>Usage</em> section below for how to make jsonable values</p>
</dd>
</dl>
<dl id="jsonable-array">
<dt>Jsonable arrays:</dt><dd><p>Jsonable arrays are represented by a JSON array. There are two kind
of arrays, fixed-length arrays and arbitrary length arrays. To make
a jsonable array by decorating a class with
<a class="reference internal" href="api_jsonable.html#pheres._jsonable.jsonable" title="pheres._jsonable.jsonable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">&#64;jsonable</span></code></a>, the class must:</p>
<ul class="simple">
<li><p>have an <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method that accept the call <code class="docutils literal notranslate"><span class="pre">Class(*array)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">array</span></code> is the python list for the JSON array. This means:</p>
<ul>
<li><p>For fixed-length array, a signature <code class="docutils literal notranslate"><span class="pre">__init__(self,</span> <span class="pre">v1,</span> <span class="pre">v2,</span> <span class="pre">...)</span></code>
with a fixed number of arguments is accepted</p></li>
<li><p>For arbitrary length array, the number of arguments is not known
in advance, so the signature must be similar to <code class="docutils literal notranslate"><span class="pre">__init__(self,</span>
<span class="pre">*array)</span></code> (this signature is also valid for fixed-length arrays
as it does accept the call above).</p></li>
</ul>
</li>
<li><p>implement the <code class="docutils literal notranslate"><span class="pre">to_json(self)</span></code> method, that returns the python
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">list</span></code></a> that represents the instance in JSON. This is because
<a class="reference internal" href="../index.html#pheres"><span class="std std-ref">Pheres</span></a> cannot know what the class does with the values like
it does with jsonable objects.</p></li>
</ul>
<p>See the <em>Usage</em> section below for how to make jsonable arrays</p>
</dd>
</dl>
<dl id="jsonable-dict">
<dt>Jsonable dicts:</dt><dd><p>Jsonable dicts are represented by a JSON Object with arbitrary
key-value pairs. For JSON object with known key-value pairs,
see <em>jsonable objects</em> below. To make a jsonable dict by
decorating a class with <a class="reference internal" href="api_jsonable.html#pheres._jsonable.jsonable" title="pheres._jsonable.jsonable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">&#64;jsonable</span></code></a>,
the class must:</p>
<ul class="simple">
<li><p>have an <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method that accept the call <code class="docutils literal notranslate"><span class="pre">Class(**object)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">object</span></code> is the python dict representing the instance
in JSON. The only signature that supports that in python is of
the sort <code class="docutils literal notranslate"><span class="pre">__init__(self,</span> <span class="pre">**object)</span></code> (the actual name of the
<code class="docutils literal notranslate"><span class="pre">object</span></code> parameter can vary). Optional arguments may be added,
but all key-value pairs found in the deserialized JSON will be
passed as keyword arguments. This is used for deserialization.</p></li>
<li><p>implement the <code class="docutils literal notranslate"><span class="pre">to_json(self)</span></code> method, that returns a python
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></a> that represents the instance in JSON. This is because
<a class="reference internal" href="../index.html#pheres"><span class="std std-ref">Pheres</span></a> cannot know what the class does with the key-value
pairs like it does with jsonable objects.</p></li>
</ul>
<p>See the <em>Usage</em> section below for how to make jsonable dicts</p>
</dd>
</dl>
<dl id="jsonable-object">
<dt>Jsonable objects:</dt><dd><p>Jsonable objects are represented by a JSON Object with known
key-value pairs. The key-value paires are obtained from the
class by inspecting PEP 526 annotations. Attributes must be
annotated to be considered by <a class="reference internal" href="../index.html#pheres"><span class="std std-ref">Pheres</span></a>, then:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">auto_attrs</span></code> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> (the default), all annotated
attributes are used</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">auto_attrs</span></code> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a>, attributes must be marked for
use (see <a class="reference internal" href="api_jsonable.html#pheres._jsonable.Marked" title="pheres._jsonable.Marked"><code class="xref any py py-data docutils literal notranslate"><span class="pre">Marked</span></code></a> and <a class="reference internal" href="api_jsonable.html#pheres._jsonable.marked" title="pheres._jsonable.marked"><code class="xref any py py-func docutils literal notranslate"><span class="pre">marked</span></code></a>)</p></li>
</ul>
<p>Irrespective of the value of <code class="docutils literal notranslate"><span class="pre">auto_attrs</span></code>, <a class="reference internal" href="api_jsonable.html#pheres._jsonable.Marked" title="pheres._jsonable.Marked"><code class="xref any py py-data docutils literal notranslate"><span class="pre">Marked</span></code></a> and <a class="reference internal" href="api_jsonable.html#pheres._jsonable.marked" title="pheres._jsonable.marked"><code class="xref any py py-func docutils literal notranslate"><span class="pre">marked</span></code></a>
can always be used for refined control (see their documentation).</p>
<p>If an attribute has a value in the class body, it is taken to be the
default value of this attribute. The attribute becomes optional in
the JSON representation. Defaults are always deep-copied when
instantiating the class from a JSON representation, so <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">list</span></code></a> and
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></a> are safe to use.</p>
<p>To make a jsonable object by decorating a class with <code class="docutils literal notranslate"><span class="pre">&#64;jsonable</span></code>,
the class must:</p>
<ul class="simple">
<li><p>have an <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method that accept the call
<code class="docutils literal notranslate"><span class="pre">Class(attr1=val1,</span> <span class="pre">attr2=val2,</span> <span class="pre">...)</span></code> where attributes values
are passed as keyword arguments. This is automatically the case
if you used <a class="reference external" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.dataclass" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">dataclasses.dataclass</span></code></a> or <a class="reference external" href="https://attrs.org/en/stable/api.html#attr.s" title="(in attrs v20.3)"><code class="xref any docutils literal notranslate"><span class="pre">attr.s</span></code></a> and is
the intended usage for this functuonality.</p></li>
</ul>
<p>In particular, jsonable object <em>do not</em> need to implement a
<code class="docutils literal notranslate"><span class="pre">to_json(self)</span></code> method, as <a class="reference internal" href="../index.html#pheres"><span class="std std-ref">Pheres</span></a> knows exactly what attributes
to use. This is in contrast with other jsonable classes.</p>
<p>See the <em>Usage</em> section below for how to make jsonable objects</p>
</dd>
<dt>Usages:</dt><dd><p>There are several usage of this decorator.</p>
<dl>
<dt>Type parametrization:</dt><dd><p>To produce jsonable <em>values</em>, <em>arrays</em> or <em>dict</em>, the decorator
must be <strong>parametrized</strong> by a type-hint. Any valid type-hint in
JSON context can be used. The following syntax may be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@jsonable</span><span class="p">[</span><span class="n">T</span><span class="p">]</span>
<span class="nd">@jsonable</span><span class="o">.</span><span class="n">Value</span><span class="p">[</span><span class="n">T</span><span class="p">]</span>
<span class="nd">@jsonable</span><span class="o">.</span><span class="n">Array</span><span class="p">[</span><span class="n">T</span><span class="p">]</span>
<span class="nd">@jsonable</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="n">T</span><span class="p">]</span>
</pre></div>
</div>
<p>The first forms encompasses the following three: If the
passed type <code class="docutils literal notranslate"><span class="pre">T</span></code> is a JSON value, it will produce a jsonable
value after decorating the class. If <code class="docutils literal notranslate"><span class="pre">T</span></code> is <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">typing.List</span></code></a>
or <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">typing.Tuple</span></code></a> (or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">list</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">tuple</span></code></a> since python 3.9), it
will produce a jsonable array. Finally, if <code class="docutils literal notranslate"><span class="pre">T</span></code> is
<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">typing.Dict</span></code></a> (or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">dict</span></code></a>), it will produce a jsonable dict.
If you wish to produce a jsonable object, do not parametrize
the decorator.</p>
<p>The type must be fully parametrized, to provide the type of
the JSON representation down to the last value. <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">typing.Union</span></code></a> can
be used. This means that:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@jsonable</span><span class="p">[</span><span class="n">List</span><span class="p">]</span> <span class="c1"># not valid</span>
<span class="nd">@jsonable</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="c1"># valid</span>
<span class="nd">@jsonable</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]]</span> <span class="c1"># valid</span>
</pre></div>
</div>
<p>For jsonable arrays, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">typing.List</span></code></a> will produce an arbitrary-length
array, while <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">typing.Tuple</span></code></a> will produce a fixed-length array, unless
an ellipsis is used (e.g. <code class="docutils literal notranslate"><span class="pre">jsonable[Tuple[int,</span> <span class="pre">Ellipsis]]</span></code>).
The literal ellipsis <a class="reference external" href="https://docs.python.org/3/glossary.html#term-1" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">...</span></code></a> may be used, but this is avoided
in this documentation to prevent confusion with the meaning
that more arguments can be provided.</p>
<p><code class="docutils literal notranslate"><span class="pre">&#64;jsonable.Value[T,</span> <span class="pre">...]</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">jsonable[Union[T,</span> <span class="pre">...]]</span></code> (The <code class="docutils literal notranslate"><span class="pre">...</span></code> here is not python
ellipsis but indicates that more than one types may be passed).</p>
<p><code class="docutils literal notranslate"><span class="pre">&#64;jsonable.Array[T,</span> <span class="pre">...]</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">jsonable[Tuple[T,</span> <span class="pre">...]]</span></code> (where the <code class="docutils literal notranslate"><span class="pre">...</span></code> indicates
that more than one argument may be passed). This produces
a fixed-length array – use <a class="reference external" href="https://docs.python.org/3/glossary.html#term-1" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">Ellispis</span></code></a> in second position
to procude an arbitrary-length array.</p>
<p><code class="docutils literal notranslate"><span class="pre">&#64;jsonable.Dict[T,</span> <span class="pre">...]</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">&#64;jsonable[dict[str,</span> <span class="pre">Union[T,</span> <span class="pre">...]]]</span></code> and produces a
jsonable dict. To produce a jsonable object, do not parametrize
the decorator.</p>
</dd>
<dt>Arguments:</dt><dd><p>If specified, arguments must be provided <em>after</em> the type
parametrization. <code class="docutils literal notranslate"><span class="pre">after</span></code> can be used for all jsonable
classes, but <code class="docutils literal notranslate"><span class="pre">auto_attrs</span></code> only has an effect on jsonable
objects.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p><code class="docutils literal notranslate"><span class="pre">&#64;jsonable</span></code> only add members that are not explicitely defined by the
decorated class (inherited implementation are ignored). This means you
can overwrite the default behavior if necessary.</p>
<p>When parametrized by a type or passed arguments, this decorator returns
an object that may be re-used. This means that the following code is
valid:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pheres</span> <span class="kn">import</span> <span class="n">jsonable</span><span class="p">,</span> <span class="n">Marked</span>

<span class="n">my_decorator</span> <span class="o">=</span> <span class="n">jsonable</span><span class="p">(</span><span class="n">auto_attrs</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nd">@my_decorator</span>
<span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="n">python</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">json</span><span class="p">:</span> <span class="n">Marked</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</pre></div>
</div>
<dl class="py method">
<dt>
<em class="property">classmethod </em><code class="sig-name descname">decorate_delayed</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Modifies all delayed jsonables whose dependencies are now met</p>
<p>You only need to call this if you do not use <a class="reference internal" href="api_jsonable.html#pheres._jsonable.jsonable" title="pheres._jsonable.jsonable"><code class="xref any py py-class docutils literal notranslate"><span class="pre">&#64;jsonable</span></code></a>
after the dependencies are made available</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fp</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">cls</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">object_hook</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parse_float</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parse_int</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parse_constant</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">object_pairs_hook</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span></dt>
<dd><p>Deserialize <code class="docutils literal notranslate"><span class="pre">fp</span></code> (a <code class="docutils literal notranslate"><span class="pre">.read()</span></code>-supporting file-like object containing
a JSON document) to a Python object.</p>
<p><code class="docutils literal notranslate"><span class="pre">object_hook</span></code> is an optional function that will be called with the
result of any object literal decode (a <code class="docutils literal notranslate"><span class="pre">dict</span></code>). The return value of
<code class="docutils literal notranslate"><span class="pre">object_hook</span></code> will be used instead of the <code class="docutils literal notranslate"><span class="pre">dict</span></code>. This feature
can be used to implement custom decoders (e.g. JSON-RPC class hinting).</p>
<p><code class="docutils literal notranslate"><span class="pre">object_pairs_hook</span></code> is an optional function that will be called with the
result of any object literal decoded with an ordered list of pairs.  The
return value of <code class="docutils literal notranslate"><span class="pre">object_pairs_hook</span></code> will be used instead of the <code class="docutils literal notranslate"><span class="pre">dict</span></code>.
This feature can be used to implement custom decoders.  If <code class="docutils literal notranslate"><span class="pre">object_hook</span></code>
is also defined, the <code class="docutils literal notranslate"><span class="pre">object_pairs_hook</span></code> takes priority.</p>
<p>To use a custom <code class="docutils literal notranslate"><span class="pre">JSONDecoder</span></code> subclass, specify it with the <code class="docutils literal notranslate"><span class="pre">cls</span></code>
kwarg; otherwise <code class="docutils literal notranslate"><span class="pre">JSONDecoder</span></code> is used.</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">loads</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">cls</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">object_hook</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parse_float</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parse_int</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parse_constant</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">object_pairs_hook</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span></dt>
<dd><p>Deserialize <code class="docutils literal notranslate"><span class="pre">s</span></code> (a <code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">bytes</span></code> or <code class="docutils literal notranslate"><span class="pre">bytearray</span></code> instance
containing a JSON document) to a Python object.</p>
<p><code class="docutils literal notranslate"><span class="pre">object_hook</span></code> is an optional function that will be called with the
result of any object literal decode (a <code class="docutils literal notranslate"><span class="pre">dict</span></code>). The return value of
<code class="docutils literal notranslate"><span class="pre">object_hook</span></code> will be used instead of the <code class="docutils literal notranslate"><span class="pre">dict</span></code>. This feature
can be used to implement custom decoders (e.g. JSON-RPC class hinting).</p>
<p><code class="docutils literal notranslate"><span class="pre">object_pairs_hook</span></code> is an optional function that will be called with the
result of any object literal decoded with an ordered list of pairs.  The
return value of <code class="docutils literal notranslate"><span class="pre">object_pairs_hook</span></code> will be used instead of the <code class="docutils literal notranslate"><span class="pre">dict</span></code>.
This feature can be used to implement custom decoders.  If <code class="docutils literal notranslate"><span class="pre">object_hook</span></code>
is also defined, the <code class="docutils literal notranslate"><span class="pre">object_pairs_hook</span></code> takes priority.</p>
<p><code class="docutils literal notranslate"><span class="pre">parse_float</span></code>, if specified, will be called with the string
of every JSON float to be decoded. By default this is equivalent to
float(num_str). This can be used to use another datatype or parser
for JSON floats (e.g. decimal.Decimal).</p>
<p><code class="docutils literal notranslate"><span class="pre">parse_int</span></code>, if specified, will be called with the string
of every JSON int to be decoded. By default this is equivalent to
int(num_str). This can be used to use another datatype or parser
for JSON integers (e.g. float).</p>
<p><code class="docutils literal notranslate"><span class="pre">parse_constant</span></code>, if specified, will be called with one of the
following strings: -Infinity, Infinity, NaN.
This can be used to raise an exception if invalid JSON numbers
are encountered.</p>
<p>To use a custom <code class="docutils literal notranslate"><span class="pre">JSONDecoder</span></code> subclass, specify it with the <code class="docutils literal notranslate"><span class="pre">cls</span></code>
kwarg; otherwise <code class="docutils literal notranslate"><span class="pre">JSONDecoder</span></code> is used.</p>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">marked</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tp</span><span class="p">:</span> <span class="n">TypeHint</span></em>, <em class="sig-param"><span class="o">/</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; TypeHint</dt>
<dd><p>Shortcut for <code class="docutils literal notranslate"><span class="pre">Annotated[T,</span> <span class="pre">JsonMark(**kwargs)]</span></code></p>
<p>See <a class="reference internal" href="api_jsonable.html#pheres._jsonable.JsonMark" title="pheres._jsonable.JsonMark"><code class="xref any py py-class docutils literal notranslate"><span class="pre">JsonMark</span></code></a> for a list of supported keyword arguments.
<a class="reference internal" href="api_jsonable.html#pheres._jsonable.marked" title="pheres._jsonable.marked"><code class="xref any py py-func docutils literal notranslate"><span class="pre">marked</span></code></a> may not be compatible with type checkers due to being
a runtime definition</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tp</strong> – Type hint to mark</p></li>
<li><p><strong>**kwargs</strong> – additional info to pass to <a class="reference internal" href="api_jsonable.html#pheres._jsonable.JsonMark" title="pheres._jsonable.JsonMark"><code class="xref any py py-class docutils literal notranslate"><span class="pre">JsonMark</span></code></a></p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="api_jsonable.html#pheres._jsonable.JsonMark" title="pheres._jsonable.JsonMark"><code class="xref any py py-class docutils literal notranslate"><span class="pre">JsonMark</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">normalize_hint</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tp</span><span class="p">:</span> <span class="n">TypeHint</span></em><span class="sig-paren">)</span></dt>
<dd><p>Normalize a JSON type hint</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tp</strong> – JSON type hint to normalize</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a normalized representation of tp</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="api_exceptions.html#pheres._exceptions.TypeHintError" title="pheres._exceptions.TypeHintError"><strong>TypeHintError</strong></a> – when tp or an inner type is not a valid JSON type</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">typecheck</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n">JSONType</span></em>, <em class="sig-param"><span class="n">tp</span><span class="p">:</span> <span class="n">TypeHint</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></dt>
<dd><p>Test if a JSON value matches a JSON type hint</p>
<p>The type hint must be normalized (see <a class="reference internal" href="api_typing.html#pheres._typing.normalize_hint" title="pheres._typing.normalize_hint"><code class="xref any py py-func docutils literal notranslate"><span class="pre">normalize_hint</span></code></a>). Otherwise,
this function may fail or return a wrong result</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – value to test</p></li>
<li><p><strong>tp</strong> – type hint to check against. Must be normalized</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> if the value is valid for the type hint, <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a> otherwise</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="api_exceptions.html#pheres._exceptions.TypeHintError" title="pheres._exceptions.TypeHintError"><strong>TypeHintError</strong></a> – the type hint could not be handled</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt>
<code class="sig-prename descclassname">pheres.</code><code class="sig-name descname">typeof</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span> <span class="n">JSONType</span></em><span class="sig-paren">)</span> &#x2192; TypeHint</dt>
<dd><p>Return the type alias of the type of the passed JSON object.</p>
<p>For nested types such as list or dict, the test is shallow
and only checks the container type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> – object to get the type of</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="api_typing.html#pheres._typing.JSONValue" title="pheres._typing.JSONValue"><code class="xref any py py-data docutils literal notranslate"><span class="pre">JSONValue</span></code></a>, <a class="reference internal" href="api_typing.html#pheres._typing.JSONArray" title="pheres._typing.JSONArray"><code class="xref any py py-data docutils literal notranslate"><span class="pre">JSONArray</span></code></a> or J`SONObject` based on the type of the passed object</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="api_exceptions.html#pheres._exceptions.JSONValueError" title="pheres._exceptions.JSONValueError"><strong>JSONValueError</strong></a> – the passed object is not a valid JSON</p>
</dd>
</dl>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The returned value is a type hint, equality testing must be done with <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#is" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">Identity</span> <span class="pre">comparisons</span></code></a>:</p>
<p><code class="docutils literal notranslate"><span class="pre">typeof({})</span> <span class="pre">==</span> <span class="pre">JSONObject</span> <span class="pre">#</span> <span class="pre">undefined</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">typeof({})</span> <span class="pre">is</span> <span class="pre">JSONObject</span> <span class="pre">#</span> <span class="pre">True</span></code></p>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="api_misc.html" class="btn btn-neutral float-left" title="Miscellaneous" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Quentin Soubeyran

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>